#
# Templates for Valtteri the election bot
#
# Comments are allowed: any line starting with '#' is ignored.

# ---Total votes templates---

# The template itself is written out as text, with slots denoted by {...}.
# It's the first non-comment line:
{who} sai {what} ääntä
# Note that this corresponds to what we informally wrote as:
#   <name> sai <total_votes> ääntä
# Then we specify constraints on the messages that may be used to fill the slots of the
# template. There may be multiple messages associated with a single template. They can be
# referred to by number (starting from 1). Here there's only one (which is why we can refer to its
# values as just 'who' and 'what' above)
what_type = total_votes
# A blank line (or several) separates the templates

# Here begins the next template
# Originally given as: <name> sai <total_votes> ääntä <municipality:ssa>
{who} sai {what} ääntä {where, case=ssa}
what_type = total_votes, where_type = municipality
# Here we put two constraints on the same message, so they need to be on the same line.
# The first thing in the slots is always the part of the message to fill the slot with.
# Then we can specify other things. Here we give the case.
# The inessive case can be specified with various equivalent forms: 'inessive', 'inessiivi', or 'ssa'

# <name genetive> äänimäärä oli <total_votes>
{who, case=n} äänimäärä oli {what}
what_type = total_votes

# NB The original Python template defn didn't actually implement the comment, but was a repeat
# of the first template
# <name> sai <total_votes> enemmän <municipality:ssa>
{who} sai {what} enemmän {where, case=ssa}
what_type = total_votes, where_type = municipality


# A few notes, before we go on...
# All of the templates in this file so far are associated with only one message, so we refer to the
# fields of the message using {who}, etc. If there are multiple messages and you write {who}, 
# the value will be taken from the first message. To refer to fields in other messages, write 
# {2.who}, etc. (Note that messages are numbered from 1.)
# If there's only one message and you don't have any constraints to specify, you can leave off 
# the constraints line (though this is pretty unlikely) Slot attributes can be given in the slot
# definitions, as we've done with case above.
# (At the moment, this is the only attribute there is.)
# You can specify filters to apply to slot fillers in the same way. See the 'abs' example below.

#
# Multi-message template example
#
# The first line after the template body relates to the first slot,
# The second line after the template relates to the second slot etc.
# Note how the second line contains a requirement for the facts to share a “who”
#
# {1.what} something {1.who} someting {2.what}
# what_type = total_votes
# what_type = total_votes_rank, who = 1.who


# ---Total_votes_rank templates---

# <name> sai eniten ääniä
{who} sai eniten ääniä
what_type = total_votes_rank, what = 1


# ---Total_votes_change and total_votes_previous_election templates---

# <name> sai <total_votes_change> ääntä vähemmän kuin edellisissä kuntavaaleissa
# Here we use a slot filter: a function that is applied to the value filling a slot.
# {what, abs} means we take the 'what' field of the message and apply the 'abs' function
# to it, to get its absolute value (i.e. positive for negative numbers).
# For another example, see 'dot-to-comma' below.
{who} sai {what, abs} ääntä vähemmän kuin edellisissä kuntavaaleissa
what_type = total_votes_change, what < 0

# <name> menetti <total_votes_change> ääntä edellisistä kuntavaaleista
{who} menetti {what, abs} ääntä edellisistä kuntavaaleista
what_type = total_votes_change, what < 0

# <name> sai yhtä monta ääntä kuin edellisissä kuntavaaleissa
{who} sai yhtä monta ääntä kuin edellisissä kuntavaaleissa
what_type = total_votes_change, what = 0

# <name> sai saman määrän ääniä kuin edellisissä kuntavaaleissa
{who} sai saman määrän ääniä kuin edellisissä kuntavaaleissa
what_type = total_votes_change, what = 0

# <name> piti paikkojensa määrän samana
{who} piti paikkojensa määrän samana
what_type = total_votes_change, what = 0

# <name> sai <total_votes_change> ääntä enemmän kuin edellisissä kuntavaaleissa
{who} sai {what} ääntä enemmän kuin edellisissä kuntavaaleissa
what_type = total_votes_change, what > 0

# <name> sai <total_votes_previous_election> ääntä edellisissä kuntavaaleissa
{who} sai {what} ääntä edellisissä kuntavaaleissa
what_type = total_votes_previous_election

# <name> kannatus kasvoi eniten
{who} kannatus kasvoi eniten
what_type = total_votes_change, what = 0


# ---Percentage_votes templates---

# <name> sai <percentage_votes> prosenttia äänistä
{who} sai {what, dot-to-comma} prosenttia äänistä
what_type = percentage_votes

# <name> sai <percentage_votes> prosenttia enemmän ääniä kuin edellisissä kuntavaaleissa
{who} sai {what, dot-to-comma} prosenttiyksikköä enemmän ääniä kuin edellisissä kuntavaaleissa
what_type = percentage_votes_change, what > 0

# <name> sai <percentage_votes> prosenttia vähemmän ääniä kuin edellisissä kuntavaaleissa
{who} sai {what, abs, dot-to-comma} prosenttiyksikköä vähemmän ääniä kuin edellisissä kuntavaaleissa
what_type = percentage_votes_change, what < 0

# <name> sai yhtä monta prosenttia äänistä kuin edellisissä kuntavaaleissa
{who} sai yhtä monta prosenttia äänistä kuin edellisissä kuntavaaleissa
what_type = percentage_votes_change, what = 0


# ---Total_votes_rank templates---

# <name> sai <total_votes_rank> eniten ääniä
{who} sai {what, ordinal} eniten ääniä
what_type = total_votes_rank, what != 1

# <name> sai toiseksi eniten ääniä
{who} sai toiseksi eniten ääniä
what_type = total_votes_rank, what = 2


# ---Seats_change templates---

# <name> menetti <seats_change> paikkaa
{who} menetti {what, abs} paikkaa
what_type = seats_change, what < 0

# <name> sai <seats_change> paikkaa lisää
{who} sai {what} paikkaa lisää
what_type = seats_change, what > 0

# <name> piti paikkojensa määrän samana
{who} piti paikkojensa määrän samana
what_type = seats_change, what = 0


# ---Seats_change_rank templates---

# NB Original Python template didn't contain the location, though it was in the text version
# <name> nousi <location + genetive> valtuustossa <value> sijaa
{who} nousi {where, case=gen} valtuustossa {what, abs} sijaa
what_type = seats_change_rank, what > 0

# <name genetive> sijoitus <location + genetive> valtuustossa nousi <value> sijaa - value > 0
{who, case=gen} sijoitus {what, case=gen} valtuustossa nousi {what, abs} sijaa
what_type = seats_change_rank, what > 0

# <name> laski <location + genetive> valtuustossa <value> sijaa
{who} laski {what, case=gen} valtuustossa {what, abs} sijaa
what_type = seats_change_rank, what < 0

# <name genetive> sijoitus <location + genetive> valtuustossa laski <value> sijaa
{who, case=gen} sijoitus {where, case=gen} valtuustossa laski {what, abs} sijaa
what_type = seats_change_rank, what < 0

# <name genetive> sijoitus <location + genetive> valtuustossa ei muuttunut  - value  = 0
{who, case=gen} sijoitus {where, case=gen} valtuustossa ei muuttunut
what_type = seats_change_rank, what = 0


# --- Seats templates ---

# <name> ei saa yhtään paikkaa uudessa valtuustossa
{who} ei saa yhtään paikkaa uudessa valtuustossa
what_type = seats, what = 0

# <name> saa yhden paikkaa uudessa valtuustossa
{who} saa yhden paikan uudessa valtuustossa
what_type = seats, what = 1

# <name> saa <seats> paikkaa uudessa valtuustossa
{who} saa {what} paikkaa uudessa valtuustossa
what_type = seats, what > 1

# --- Previous elections seats templates ---

# <name> ei ollut edellisessä valtuustossa
{who} ei ollut edellisessä valtuustossa
what_type = seats_previous_election, what = 0

# <name> piti edellisessä valtuustossa yhtä paikkaa
{who} saa yhden paikan uudessa valtuustossa
what_type = seats_previous_election, what = 1

# <name> piti edellisessä valtuustossa <seats> paikkaa
{who} saa {what} paikkaa uudessa valtuustossa
what_type = seats_previous_election, what > 1

# --- Seats_rank templates ---

{who} on valtuuston suurin puolue
what_type = seats_rank, what = 1

{who} sai {what, ordinal} eniten paikkoja uudessa valtuustossa
what_type = seats_rank, what > 1

# --- Seats_previous_election_rank templates ---

{who} on istuvan valtuuston suurin puolue
what_type = seats_previous_election_rank, what = 1

{who} on istuvan valtuuston {what, ordinal} suurin ryhmä
what_type = seats_previous_election_rank, what > 1

# ---Total_votes_previous_election_rank templates---

{who} kasvatti edellisiin kuntavaaleihin verrattuna eniten kannatustaan
what_type = total_votes_change_rank, what = 1

{who} sai {what, ordinal} eniten ääniä edellisissä kuntavaaleissa
what_type = total_votes_previous_election_rank, what > 1

{who} sai eniten ääniä edellisissä kuntavaaleissa
what_type = total_votes_previous_election_rank, what = 1

# ---Is candidate member of council templates ---

{who} ei ole istuvan valtuuston jäsen
what_type = is_councillor, what = False

{who} on istuvan valtuuston jäsen
what_type = is_councillor, what = True

# ---Is candidate member of parliament templates ---

{who} ei ole kansanedustaja
what_type = is_mp, what = False

{who} on kansanedustaja
what_type = is_mp, what = True

# ---Is candidate member of European Parliament templates ---

{who} ei ole europarlamentaarikko
what_type = is_mep, what = False

{who} on europarlamentaarikko
what_type = is_mep, what = True

# Named entity?
{who} on ehdokkaana puolueen {what, as-party} listalla
what_type = party
