<!DOCTYPE html>
<html>
<body>
<h1>Finland Google Map</h1>
<div id="Kouvola" style="width:100%;height:400px;"></div>
<script type="text/javascript" src="javascript.js">

</script>
<script>
function myMap() {
	cities.slice(26, cities.length-76).forEach(function(element) {
		var mapOptions= {
			center:new google.maps.LatLng(element.latitude,element.longitude),//<=helsinki Finland =>(61.9241,25.7482),
			zoom:9,
		};
		var map=new google.maps.Map(document.getElementById(element.city),mapOptions);
		var marker = new google.maps.Marker({position: mapOptions.center//here center is where we want to set the marker which are the coordinates of hki
											 
											});
		var pos = map.getZoom();
		marker.setMap(map);
		var infowindow = new google.maps.InfoWindow({
			content: "city "+element.city+" PORef "+cities[element.PORef].city
		  });
		infowindow.open(map,marker);
		//now we want to add another marker to the screen
		var marker2 = new google.maps.Marker({position: new google.maps.LatLng(cities[element.PORef].latitude,cities[element.PORef].longitude),
		//here center is where we want to set the marker which are the coordinates of hki
											});
		marker2.setMap(map);
		//adding events to the map
		google.maps.event.addListener(marker,'click',function() {
		  map.setZoom(11);
		  map.setCenter(marker.getPosition());
		  });
		google.maps.event.addListener(marker2,'click',function() {
		  map.setZoom(11);
		  map.setCenter(marker2.getPosition());
		  });
		  window.setTimeout(function() {map.setZoom(pos);},3000); // didn't work as expected !!!!
		  
	});
	 
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7A_wqRiWrVXFAxqyzUY09oDNTxMJl9ZA&callback=myMap"></script>
<!--
To use this code on your website, get a free API key from Google.
Read more at: https://www.w3schools.com/graphics/google_maps_basic.asp
-->

</body>
</html>
